# Application python

- hosts: host01


  tasks:

  - name: install python

    apt:

      name:

        - python3

        - python3-pip

        - python3-dev

        - python3-setuptools

        - python3-pymysql



      state: present

      update_cache: yes


  - name: upload app source
   
    copy:
      src: /files/app/
      dest: /app


      #- name: deploy python config git

      #ansible.builtin.git:

      #repo: 'https://github.com/JeanHuret/FormationPOEI.git'

      #dest: /var/apps

      #refspec: '+refs/pull/*:refs/heads/*'
      

- hosts: host02


  tasks:

  - name: install python

    yum:

      name:

        - python3

        - python3-pip

        - python3-dev

        - python3-setuptools

        - python3-pymysql



      state: present

      update_cache: yes


  - name: upload app source

    copy:
      src: /files/app/
      dest: /app


      #- name: deploy python config git

      #ansible.builtin.git:

      #repo: 'https://github.com/JeanHuret/FormationPOEI.git'

      #dest: /var/apps
